/*  
    halkaBox.js , url: https://github.com/ahmednooor/halkaBox.js
    Version: 1.6.0
    Auther: Ahmed Noor , url: https://github.com/ahmednooor
    License: MIT , url: https://opensource.org/licenses/MIT
*/
var halkaBox=function(){"use strict";var e={hideButtons:!0,animation:"slide",theme:"light",preload:2,swipeDownToClose:!1,swipeUpToClose:!1,nextPrevOnWheel:!0,isZoomable:!0};function t(t){var n;for(n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(t,n){var i,o,s,l,a,r,d,c,u,p,m=document.getElementsByTagName("body")[0],h=document.getElementsByClassName(t),y=h.length,w=[],g=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div"),f=document.createElement("div"),E=document.createElement("button"),T=document.createElement("div"),x=document.createElement("button"),L=document.createElement("div"),C=document.createElement("button"),B=document.createElement("p"),k=document.createElement("span"),A=document.createElement("span"),N=!1,I=window.innerWidth,H=window.innerWidth<window.innerHeight,W=!1,Y=100,P=300,D={isSingleTapped:!1,whenSingleTapped:null,isDoubleTapped:!1},S={},M=!0,X=!0,O=!1,V=[],z=!1,Z=!1;for(p in e)e.hasOwnProperty(p)&&(S[p]=e[p]);for(p in n)n.hasOwnProperty(p)&&(S[p]=n[p]);function q(e){var t=document.createElement("div");t.classList.add("hb-loader"),"dark"===S.theme&&(t.style.borderTop="5px solid #999");var n=document.createElement("img");if(w[e]=document.createElement("div"),w[e].classList.add("hb-image-div"),w[e].style.opacity=0,w[e].style.display="none",b.appendChild(w[e]),w[e].appendChild(t),w[e].appendChild(n),h[e].getAttribute("title")||h[e].getAttribute("data-title")){var i=document.createElement("p"),o=h[e].getAttribute("title")?h[e].getAttribute("title"):h[e].getAttribute("data-title");i.classList.add("hb-caption"),i.innerHTML='<span class="hb-caption-text">'+o+"</span>",w[e].appendChild(i),"light"===S.theme?i.classList.add("hb-caption-white"):"dark"===S.theme&&i.classList.add("hb-caption-black")}n.onload=function(){t.style.display="none"},n.onerror=function(){var n=document.createElement("p");n.innerHTML="Image not found.","light"===S.theme?n.classList.add("hb-err-text-black"):"dark"===S.theme&&n.classList.add("hb-err-text-white"),t.style.display="none",w[e].appendChild(n)},n.src=h[e].href}function U(e,t){e+t>=y&&(t=y-e-1);for(var n=e;n<=e+t;)w[n]||q(n),n+=1}function K(e,t){e-t<0&&(t=e);for(var n=e;n>=e-t;)w[n]||q(n),n-=1}function j(e){a.innerHTML=e+1+" "}function F(e){y>1&&"hb-single"!==t&&!O&&(O=!0,"slide"===S.animation?(w[i].style.animation="slideNextOut 0.3s ease-out forwards",window.setTimeout(function(){w[i].style.opacity=0,w[i].style.display="none",_(w[i].getElementsByTagName("img")[0]),i>y-2&&(i=-1),j(i+=1),U(i,S.preload),w[i].style.display="block",w[i].style.animation="slideNextIn 0.3s ease-out forwards",O=!1},300)):"fade"===S.animation&&(w[i].style.opacity=0,window.setTimeout(function(){w[i].style.display="none",_(w[i].getElementsByTagName("img")[0]),i>y-2&&(i=-1),j(i+=1),U(i,S.preload),w[i].style.display="block",window.setTimeout(function(){w[i].style.opacity=1},50),O=!1},300)))}function G(e){y>1&&"hb-single"!==t&&!O&&(O=!0,"slide"===S.animation?(w[i].style.animation="slidePreviousOut 0.3s ease-out forwards",window.setTimeout(function(){w[i].style.opacity=0,w[i].style.display="none",_(w[i].getElementsByTagName("img")[0]),0===i&&(i=y),j(i-=1),K(i,S.preload),w[i].style.display="block",w[i].style.animation="slidePreviousIn 0.3s ease-out forwards",O=!1},300)):"fade"===S.animation&&(w[i].style.opacity=0,window.setTimeout(function(){w[i].style.display="none",_(w[i].getElementsByTagName("img")[0]),0===i&&(i=y),j(i-=1),K(i,S.preload),w[i].style.display="block",window.setTimeout(function(){w[i].style.opacity=1},50),O=!1},300)))}function J(){w[i].style.opacity=0,g.style.opacity=0,window.setTimeout(function(){w[i].style.display="none",g.style.display="none",_(w[i].getElementsByTagName("img")[0])},300),h[i].focus(),h[i].blur(),ge(),M=!0,X=!0}function Q(e){e.preventDefault(),J()}function R(e){W||(e.stopPropagation(),e.preventDefault(),e.target===b||e.target===v||e.target===w[i]?Q(e):ye())}function $(e){e.stopPropagation(),e.preventDefault(),27===e.which?Q(e):37===e.which&&"hb-single"!==t?G():39===e.which&&"hb-single"!==t&&F()}function _(e){e.removeAttribute("style"),e.style.transition="all 150ms ease-in",Y=100,window.setTimeout(function(){W=!1,e.style.transition="",e.removeAttribute("style")},200)}function ee(e){var t=parseInt(window.getComputedStyle(e,null).getPropertyValue("width")),n=parseInt(window.getComputedStyle(e,null).getPropertyValue("height")),i=parseInt(window.getComputedStyle(e,null).getPropertyValue("left")),o=parseInt(window.getComputedStyle(e,null).getPropertyValue("top"));e.style.transition="all 150ms ease-out",t>=window.innerWidth?i>t/2?(e.style.left=t/2+"px",e.style.right="auto"):i<-1*(t-window.innerWidth-t/2)&&(e.style.left=-1*(t-window.innerWidth-t/2)+"px",e.style.right="auto"):t<window.innerWidth&&(i<t/2?(e.style.left=t/2+"px",e.style.right="auto"):i>window.innerWidth-t+t/2&&(e.style.left=window.innerWidth-t+t/2+"px",e.style.right="auto")),n>=window.innerHeight?o>n/2?(e.style.top=n/2+"px",e.style.bottom="auto"):o<-1*(n-window.innerHeight-n/2)&&(e.style.top=-1*(n-window.innerHeight-n/2)+"px",e.style.bottom="auto"):n<window.innerHeight&&(o<n/2?(e.style.top=n/2+"px",e.style.bottom="auto"):o>window.innerHeight-n+n/2&&(e.style.top=window.innerHeight-n+n/2+"px",e.style.bottom="auto")),t<=window.innerWidth&&n<=window.innerHeight?_(e):window.setTimeout(function(){e.style.transition=""},200)}function te(e,t,n){var i=window.getComputedStyle(n,null).getPropertyValue("left"),o=window.getComputedStyle(n,null).getPropertyValue("top");n.style.transition="",n.style.position="absolute",n.style.top=parseInt(o)+t+"px",n.style.left=parseInt(i)+e+"px",n.style.right="auto",n.style.bottom="auto"}function ne(e){if(S.isZoomable){me(),ue();var t=parseInt(window.getComputedStyle(e,null).getPropertyValue("width")),n=parseInt(window.getComputedStyle(e,null).getPropertyValue("height"));Y>=50&&Y<=400&&t<e.naturalWidth&&n<e.naturalHeight?(e.style.position="absolute",e.style.maxWidth=parseInt(Y)+"%",e.style.maxHeight=parseInt(Y)+"%",W=!0):Y>=50&&Y<=400&&Y<=parseInt(e.style.maxWidth)?(e.style.position="absolute",e.style.maxWidth=parseInt(Y)+"%",e.style.maxHeight=parseInt(Y)+"%",W=!0):t>=e.naturalWidth||n>=e.naturalHeight?Y=parseInt(e.style.maxWidth):Y>=400?Y=400:W=!1}}function ie(e){e.preventDefault(),r=e.clientX,c=e.clientY,w[i].addEventListener("mousemove",oe,!1)}function oe(e){e.preventDefault();var t=e.clientX-r,n=e.clientY-c;r=e.clientX,c=e.clientY,te(t,n,w[i].getElementsByTagName("img")[0])}function se(e){e.preventDefault(),w[i].removeEventListener("mousemove",oe),ee(w[i].getElementsByTagName("img")[0])}function le(e){if(e.preventDefault(),e.ctrlKey){if(!S.isZoomable)return;e.deltaY<0?Y+=20:W&&Y>100&&(Y-=20),Y>100?(w[i].addEventListener("mousedown",ie,!1),w[i].addEventListener("mouseup",se,!1),w[i].style.cursor="move",me(),ue(),ge(),g.addEventListener("wheel",le,!1)):(w[i].removeEventListener("mousedown",ie),w[i].removeEventListener("mouseup",se),w[i].style.cursor="",he(),pe(),we()),ne(w[i].getElementsByTagName("img")[0]),ee(w[i].getElementsByTagName("img")[0])}else Y<=100&&!z&&(z=!0,window.setTimeout(function(){z=!1},600),e.deltaY<0?G():e.deltaY>0&&F())}function ae(){D.isSingleTapped=!1,D.whenSingleTapped=null,D.isDoubleTapped=!1}function re(e){if(D.isSingleTapped&&1===e.touches.length&&(new Date).getTime()-D.whenSingleTapped<P)return D.isDoubleTapped=!0,!1===W?(Y=200,w[i].getElementsByTagName("img")[0].style.transition="all 150ms ease-out",window.setTimeout(function(){w[i].getElementsByTagName("img")[0].style.transition=""},200),ne(w[i].getElementsByTagName("img")[0])):_(w[i].getElementsByTagName("img")[0]),void ae();D.isSingleTapped||1!==e.touches.length||(D.isSingleTapped=!0,D.whenSingleTapped=(new Date).getTime(),window.setTimeout(function(){ae()},P)),window.innerWidth<window.innerHeight!==H&&(H=!0!==H,I=window.innerWidth),r=e.touches[0].clientX,c=e.touches[0].clientY,e.touches.length>1&&(d=e.touches[1].clientX,u=e.touches[1].clientY)}function de(e){if(e.preventDefault(),!D.isDoubleTapped){N&&ae();var t=e.touches[0]||e.changedTouches[0],n=e.touches.length;if(!1!==N||!1!==W||window.innerWidth!==I||2===n){if(2===n){N=!0;var o=Math.sqrt(Math.pow(d-r,2)+Math.pow(u-c,2)),s=Math.sqrt(Math.pow(e.touches[1].clientX-e.touches[0].clientX,2)+Math.pow(e.touches[1].clientY-e.touches[0].clientY,2));r=e.touches[0].clientX,c=e.touches[0].clientY,d=e.touches[1].clientX,u=e.touches[1].clientY,o<s?Y+=s-o:Y-=o-s,ne(w[i].getElementsByTagName("img")[0])}else if(!0===W){N=!0;var l=e.touches[0].clientX-r,a=e.touches[0].clientY-c;r=e.touches[0].clientX,c=e.touches[0].clientY,te(l,a,w[i].getElementsByTagName("img")[0])}}else t.clientX-r>50&&t.clientY-c<25&&t.clientY-c>-25?(N=!0,G()):t.clientX-r<-50&&t.clientY-c<25&&t.clientY-c>-25?(N=!0,F()):t.clientY-c>80&&S.swipeDownToClose?Q(e):t.clientY-c<-80&&S.swipeUpToClose&&Q(e)}}function ce(){N=!1,W?ee(w[i].getElementsByTagName("img")[0]):window.setTimeout(function(){ee(w[i].getElementsByTagName("img")[0])},P)}function ue(){L.style.opacity=0,T.style.opacity=0,f.style.opacity=0,B.style.opacity=0,M=!0}function pe(){L.style.opacity="",T.style.opacity="",f.style.opacity="",B.style.opacity="",M=!1}function me(){var e=b.getElementsByClassName("hb-caption"),t=0;for(t=0;t<e.length;t+=1)e[t].style.display="none";X=!0}function he(){var e=b.getElementsByClassName("hb-caption"),t=0;for(t=0;t<e.length;t+=1)e[t].style.display="";X=!1}function ye(e){X?he():me(),M&&!X?pe():!M&&X&&ue()}function we(){"hb-single"!==t&&(l.addEventListener("click",F,!1),s.addEventListener("click",G,!1)),g.addEventListener("touchstart",re,!1),g.addEventListener("touchmove",de,!1),g.addEventListener("touchend",ce,!1),S.nextPrevOnWheel&&g.addEventListener("wheel",le,!1),o.addEventListener("click",Q,!1),b.addEventListener("click",R,!1),window.addEventListener("mouseout",ue,!1),window.addEventListener("mouseover",pe,!1),window.addEventListener("keyup",$,!1)}function ge(){"hb-single"!==t&&(l.removeEventListener("click",F,!1),s.removeEventListener("click",G,!1)),g.removeEventListener("touchstart",re,!1),g.removeEventListener("touchmove",de,!1),g.removeEventListener("touchend",ce,!1),S.nextPrevOnWheel&&g.removeEventListener("wheel",le,!1),o.removeEventListener("click",Q,!1),b.removeEventListener("click",R,!1),window.removeEventListener("mouseout",ue,!1),window.removeEventListener("mouseover",pe,!1),window.removeEventListener("keyup",$,!1)}function ve(e){h[i=e].blur(),j(i),g.style.display="block",window.setTimeout(function(){g.style.opacity=1,I=window.innerWidth},10),U(i,S.preload),K(i,S.preload),w[i].style.animation="none",w[i].style.display="block",w[i].style.opacity=1,_(w[i].getElementsByTagName("img")[0]),ye(),we()}function be(e,t){t.preventDefault(),ve(e)}g.setAttribute("class","hb-wrapper"),g.setAttribute("id","hb-wrapper"+t),v.setAttribute("class","hb-main-container"),b.setAttribute("class","hb-image-container"),f.setAttribute("class","hb-close-icon-container"),E.setAttribute("id","hb-close-"+t),E.setAttribute("class","hb-close"),T.setAttribute("class","hb-left-icon-container"),x.setAttribute("id","hb-left-"+t),x.setAttribute("class","hb-left"),L.setAttribute("class","hb-right-icon-container"),C.setAttribute("id","hb-right-"+t),C.setAttribute("class","hb-right"),B.setAttribute("id","hb-counter-"+t),B.setAttribute("class","hb-counter"),k.setAttribute("id","hb-counter-total"+t),k.setAttribute("class","hb-counter-total"),A.setAttribute("id","hb-counter-current"+t),A.setAttribute("class","hb-counter-current"),B.appendChild(A),B.appendChild(k),k.innerHTML="/ "+y,L.appendChild(C),C.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 580 580" style="" xml:space="preserve"><path d="M576,290c0-0.1,0-0.2,0-0.3c0.1-7.9-3-15.7-8.8-21.4L311.5,12.5c-11.7-11.7-30.7-11.7-42.4,0s-11.7,30.7,0,42.4l204.5,204.5 H34c-16.6,0-30,13.4-30,30c0,0.2,0,0.3,0,0.5c0,0.2,0,0.3,0,0.5c0,16.6,13.4,30,30,30h439.6L269,525c-11.7,11.7-11.7,30.7,0,42.4 c5.9,5.9,13.5,8.8,21.2,8.8s15.4-2.9,21.2-8.8l255.7-255.8c5.8-5.8,8.8-13.6,8.8-21.4C576,290.2,576,290.1,576,290z"/></svg>',T.appendChild(x),x.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 580 580" style="" xml:space="preserve"><path d="M576,289.5c0-16.6-13.4-30-30-30H106.4L311,55c11.7-11.7,11.7-30.7,0-42.4c-11.7-11.7-30.7-11.7-42.4,0L12.8,268.3C7,274.1,3.9,281.8,4,289.7c0,0.1,0,0.2,0,0.3c0,0.1,0,0.2,0,0.3c-0.1,7.9,3,15.7,8.8,21.4l255.8,255.8c5.9,5.9,13.5,8.8,21.2,8.8s15.4-2.9,21.2-8.8c11.7-11.7,11.7-30.7,0-42.4L106.4,320.5H546c16.6,0,30-13.4,30-30c0-0.2,0-0.3,0-0.5\tC576,289.8,576,289.7,576,289.5z"/></svg>',f.appendChild(E),E.innerHTML='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 580 580" style="" xml:space="preserve"><path d="M332.1,290l235-235c11.7-11.7,11.7-30.7,0-42.4c-11.7-11.7-30.7-11.7-42.4,0L290,247.2L55.3,12.5c-11.7-11.7-30.7-11.7-42.4,0C1.2,24.3,1.2,43.2,12.9,55l235,235l-235,235c-11.7,11.7-11.7,30.7,0,42.4c5.9,5.9,13.5,8.8,21.2,8.8s15.4-2.9,21.2-8.8L290,332.8l234.7,234.7c5.9,5.9,13.5,8.8,21.2,8.8s15.4-2.9,21.2-8.8c11.7-11.7,11.7-30.7,0-42.4L332.1,290z"/></svg>',v.appendChild(b),v.appendChild(f),v.appendChild(T),v.appendChild(L),v.appendChild(B),g.appendChild(v),("ontouchstart"in window&&!0===S.hideButtons||"hb-single"===t||1===y)&&(L.style.display="none",T.style.display="none"),"hb-single"!==t&&1!==y||(B.style.display="none"),"dark"===S.theme&&g.classList.add("hb-dark-theme"),g.style.display="none",m.appendChild(g),o=document.getElementById("hb-close-"+t),s=document.getElementById("hb-left-"+t),l=document.getElementById("hb-right-"+t),document.getElementById("hb-counter-"+t),document.getElementById("hb-counter-total"+t),a=document.getElementById("hb-counter-current"+t);for(var fe=0;fe<y;fe+=1)V.push(be.bind(this,fe)),h[fe].addEventListener("click",V[fe],!1);return{open:ve,close:J,next:F,previous:G,destroy:function(){if(!Z){for(var e=0;e<y;e+=1)h[e].removeEventListener("click",V[e],!1);document.getElementById("hb-wrapper"+t)&&(ge(),g.parentNode.removeChild(g)),Z=!0}}}}if("undefined"==typeof module||void 0===module.exports)return{run:n,options:t};module.exports={run:n,options:t}}();